<style>
  #mapid {
    width:800px; height:600px;
  }
</style>
<footer class="section has-background-dark has-text-white">
  <div class="container">

    <div class="columns">
      <div class="column">
        <a class="navbar-item" href="{{ config.url }}">
          {% if config.logoUrl.length > 0 %}
            {#
              Si logo desde fichero: <img src="{{ config.logoUrl }}" alt="{{ config.title }}"/>
              Si logo insertado como SVG: {% logoSVG %}
            #}
            <img src="{{ rootPath }}{{ config.logoUrl }}" alt="{{ config.title }}"/>
          {% else %}
            {{ config.title }}
          {% endif %}
        </a>
      </div>
      <div class="column">
        <div class="level-item cta-bar">
          <h3>Need work done?</h3>
          <div class="control">
            <a class="button is-primary slant js-modal-trigger" data-target="modal-js-example" href="#" target="_self"><h4>Open a Work Request  > </h4></a>
          </div>

        </div>
      </div>

    </div><!-- END columns -->


    <div class="columns">
      <div class="column is-one-quarter">
        <p>2051 Alpine Way</p>
        <p>Hayward, CA 94545</p>
        <h4 class="foot-tag">Small jobs, big jobs,
          all makes and models...
          <span class="hilite"> <i>Yes, even that one</i></span>
        </h4>
        <p class="footer-social-icons">
          {% if config.social.facebook.length > 0 %}
            <span><a href="{{ config.social.facebook }}" rel="nofollow noreferrer" target="_blank" aria-label="facebook profile link"><span class="icon">{% facebookLightIcon %}</span></a></span>
          {% endif %}
          {% if config.social.instagram.length > 0 %}
            <span><a href="{{ config.social.instagram }}" rel="nofollow noreferrer" target="_blank" aria-label="instagram profile link"><span class="icon">{% instagramLightIcon %}</span></a></span>
          {% endif %}
        </p>
    
      </div>
      <div class="column is-one-quarter">
        <div class="columns is-mobile">
          <div class="column">
            <p>Monday</p>
            <p>Tuesday</p>
            <p>Wednesday</p>
            <p>Thursday</p>
            <p>Friday</p>
            <p>Saturday</p>
            <p>Sunday</p>
          </div>
          <div class="column">
            <p>8:30am - 6:00pm</p>
            <p>8:30am - 6:00pm</p>
            <p>8:30am - 6:00pm</p>
            <p>8:30am - 6:00pm</p>
            <p>8:30am - 6:00pm</p>
            <p>By appointment</p>
            <p>Closed</p>
          </div>
        </div>
      </div>
      <div class="column">
        <div class="gmap_canvas">
<iframe id="gmap_canvas" src="https://maps.google.com/maps?q=Driven+Garage&t=&z=13&ie=UTF8&iwloc=&output=embed" width="100%" height="400" frameborder="0" marginwidth="0" marginheight="0" scrolling="no">
</iframe>
        </div>
      </div>
    </div><!-- END columns -->

  </div><!-- END container -->
</footer>


<div id="modal-js-example" class="modal">
  <div class="modal-background"></div>

  <div class="modal-content">

    <div class="box">
      <h2>Need some work done on your ride?</h2>
      <div class="toggle-content is-visible">
      
      <!-- <h3>Just give us your info, tell us what needs fixed or work you need done</h3> -->
      <p>Give us a bit to respond with a detailed estimate. We need time to do a through review to research and write your estimate.<br>

      <div class="columns">
        <div class="column">
          <div class="img-wrap">
            <i class="icon flaticon-car-search"></i>
          </div>
        </div>
        <div class="column is-two-thirds">
          <div class="process-item">
            <h5><span>1</span> Get a Quote</h5>
            <p>Tells us what's wrong with your car or work you want done. We'll shoot back a detailed estimate that includes diagnosis, parts, and labor.</p>
          </div>
        </div>
      </div>

      <div class="columns">
          <div class="column">
            <div class="img-wrap">
              <i class="icon flaticon-autolift"></i>
            </div>
          </div>
          <div class="column is-two-thirds">
            <div class="process-item">
              <h5><span>2</span> Approve Repairs</h5>
              <p>Once you approve the estimate, we'll book an appoitment to drop off your car and our team will get to work.</p>
            </div>
          </div>
      </div>





      <div class="columns">
          <div class="column">
            <div class="img-wrap">
              <i class="icon i-timesheet">
                <img src="{{ rootPath }}_images/i-timesheet.svg" alt="timesheet">
              </i>
            </div>
          </div>
          <div class="column is-two-thirds">
            <div class="process-item">
              <h5><span>3</span> Time is Money</h5>
              <p>Only pay for time our team is working on your car. We use strict time tracking to ensure you won't pay extra.</p>
            </div>
          </div>
      </div>



          

      <div class="columns">
          <div class="column">
            <div class="img-wrap">
              <i class="icon flaticon-fix-sign"></i>
            </div>
          </div>
          <div class="column is-two-thirds">
            <div class="process-item">
              <h5><span>4</span> Hit the Road</h5>
              <p>Our certified team will fix your car and get you back on the road.</p>
            </div>
          </div>
      </div>

    </div>



    <div id="modal-form" class="toggle-content">
      <p><strong>To ensure a prompt response, please enter your valid phone number and email</strong></p>
      <p style="font-size:0.8rem;">Please be patient: It can take <span class="hilite"><i>a day or 2</i></span> for smaller jobs and <span class="hilite"><i>a few days</i></span> for more complex requests.</p>

      <iframe id="shopmonkey-form" src="https://app.shopmonkey.io/quote-request/028a78c54fda5e7ae2570db0fb187cd5?noExternalScripts=1" width="100%" height="700" frameborder="0"></iframe>

    </div>

  

    <div class="level-item">
      <div class="control">
        <!-- <a class="button is-primary slant toggle-btn" href="#modal-form" target="_self"><h4>Let's Go  &gt; </h4></a> -->
        <div class="button is-primary slant toggle-btn"><h4>Let's Go ></h4></div>
      </div>
    </div>
<!-- Let's Go  &gt; -->






  </div><!-- END box -->


  </div><!-- END modal-content -->

  <button class="modal-close is-large" aria-label="close"></button>
</div>




<script>
  document.querySelector('.toggle-btn').addEventListener('click',function(){
//TOGGLE button label
    const txt2 = document.querySelector('.toggle-btn h4').textContent;
    document.querySelector('.toggle-btn h4').textContent = txt2 == "Let's Go >" ? "< Go Back" : "Let's Go >";

    [].forEach.call(document.querySelectorAll('.toggle-content'), function($el2){
/*
      if($el2.classList == 'toggle-content is-visible') {
        $el2.classList.remove('is-visible');
      } else {
        $el2.classList.add('is-visible');
      }
*/

      const togclass = $el2.classList;
      togclass == 'toggle-content is-visible' ? togclass.remove('is-visible') : togclass.add('is-visible');


    });
  });
</script>










{% if config.showCookiesAdvice %}
  {% if config.googleAnalyticsID.length > 0 %}
    <script> var analyticsID = "{{ config.googleAnalyticsID }}"</script>
  {% endif %}
  {% include "cookies-advice.njk" %}
{% endif %}

<!-- Scripts -->
{% set js %}
  {% include "scripts.js" %}
  {% if config.showCookiesAdvice %}
    {% include "cookies-advice-script.js" %}
  {% endif %}
{% endset %}
<script>
  {{ js | jsmin | safe }}
</script>



<!-- Swiffy Slider -->
<script src="{{ rootPath }}_js/swiffy-slider.min.js" crossorigin="anonymous" defer></script>




<script>

  document.addEventListener('DOMContentLoaded', () => {

    // Get all "navbar-burger" elements
    const $navbarBurgers = Array.prototype.slice.call(document.querySelectorAll('.has-dropdown'), 0);

    // Add a click event on each of them
    $navbarBurgers.forEach( el => {
      el.addEventListener('click', () => {

        // Get the target from the "data-target" attribute
        const target = el.dataset.target;
        const $target = document.getElementById(target);

        // Toggle the "is-active" class on both the "navbar-burger" and the "navbar-menu"
        el.classList.toggle('is-active');
        $target.classList.toggle('is-active');

      });
    });

  });




  document.addEventListener('DOMContentLoaded', () => {
  // Functions to open and close a modal
  function openModal($el) {
    $el.classList.add('is-active');
  }

  function closeModal($el) {
    $el.classList.remove('is-active');
  }

  function closeAllModals() {
    (document.querySelectorAll('.modal') || []).forEach(($modal) => {
      closeModal($modal);
    });
  }

  // Add a click event on buttons to open a specific modal
  (document.querySelectorAll('.js-modal-trigger') || []).forEach(($trigger) => {
    const modal = $trigger.dataset.target;
    const $target = document.getElementById(modal);

    $trigger.addEventListener('click', () => {
      openModal($target);
    });
  });

  // Add a click event on various child elements to close the parent modal
  (document.querySelectorAll('.modal-background, .modal-close, .modal-card-head .delete, .modal-card-foot .button') || []).forEach(($close) => {
    const $target = $close.closest('.modal');

    $close.addEventListener('click', () => {
      closeModal($target);
    });
  });

  // Add a keyboard event to close all modals
  document.addEventListener('keydown', (event) => {
    const e = event || window.event;

    if (e.keyCode === 27) { // Escape key
      closeAllModals();
    }
  });
});


</script>

<!-- Accordion JS code -->
<script>
function initAcc(elem, option){
  document.addEventListener('click', function (e) {
      if (!e.target.matches(elem+' .a-btn')) return;
      else{
          if(!e.target.parentElement.classList.contains('active')){
              if(option==true){
                  var elementList = document.querySelectorAll(elem+' .a-container');
                  Array.prototype.forEach.call(elementList, function (e) {
                      e.classList.remove('active');
                  });
              }            
              e.target.parentElement.classList.add('active');
          }else{
              e.target.parentElement.classList.remove('active');
          }
      }
  });
}

initAcc('.accordion.v1', true);
initAcc('.accordion.v2', false);

</script>

<!-- RESTOMOD tab scroll -->
<script>



// To Section
const navLinks = document.querySelectorAll(
'.tab-nav ul li a');


Array.from(navLinks).forEach(navLink => {
  const href = navLink.getAttribute('href');
  const section = document.querySelector(href);
  const offset = 10 + 20; // nav and offset 50 + 20

  navLink.onclick = e => {
    // get body position
    const bodyRect = document.body.getBoundingClientRect().top;
    // get section position relative
    const sectionRect = section.getBoundingClientRect().top;
    // subtract the section from body
    const sectionPosition = sectionRect - bodyRect;
    // subtract offset
    const offsetPosition = sectionPosition - offset;

    e.preventDefault();
    window.scrollTo({
      top: offsetPosition,
      behavior: 'smooth' });

    console.log("clicked: " + navLink.href + " | bodyRect: " + bodyRect + " sectionRect: " + sectionRect);

  };
});





function scrollToTargetAdjusted(){
    var element = document.getElementById('targetElement');
    var headerOffset = 45;
    var elementPosition = element.getBoundingClientRect().top;
    var offsetPosition = elementPosition + window.pageYOffset - headerOffset;
  
    window.scrollTo({
         top: offsetPosition,
         behavior: "smooth"
    });
}


const sections = document.querySelectorAll("section[id]");

// Add an event listener listening for scroll
window.addEventListener("scroll", navHighlighter);

function navHighlighter() {

  let scrollY = window.pageYOffset;
  
  sections.forEach(current => {
    const sectionHeight = current.offsetHeight;
    const sectionTop = (current.getBoundingClientRect().top + window.pageYOffset) - 50;
    sectionId = current.getAttribute("id");
    
    if (
      scrollY > sectionTop &&
      scrollY <= sectionTop + sectionHeight
    ){
      document.querySelector(".tab-nav ul li a[href*=" + sectionId + "]").classList.add("active");
      document.querySelector(".tab-cont-head." + sectionId).classList.add("active");
    } else {
        document.querySelector(".tab-nav ul li a[href*=" + sectionId + "]").classList.remove("active");
        document.querySelector(".tab-cont-head." + sectionId).classList.remove("active");
    }
  });
}


</script>